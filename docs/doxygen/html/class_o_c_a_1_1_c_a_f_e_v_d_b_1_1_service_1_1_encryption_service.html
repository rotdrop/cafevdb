<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link rel="shortcut icon" type="image/png" href="/nextcloud-git/apps/cafevdb/img/logo-greyf32x32.png" />
<title>CamerataDB: EncryptionService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="/usr/share/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CamerataDB
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Database application to ease the management of a project-oriented orchestra.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">EncryptionService Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Handle some encryption tasks:  
 <a href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa164135a7474a6c9d34b7bee20056a4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#aa164135a7474a6c9d34b7bee20056a4d">__construct</a> (string $appName, <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_authorization_service.html">AuthorizationService</a> $authorization, IConfig $containerConfig, IUserSession $userSession, <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_asymmetric_key_service.html">Crypto\AsymmetricKeyService</a> $asymKeyService, <a class="el" href="interface_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_crypto_factory_interface.html">Crypto\CryptoFactoryInterface</a> $cryptoFactory, IHasher $hasher, ICredentialsStore $credentialsStore, IEventDispatcher $eventDispatcher, ILogger $logger, IL10N $l10n,)</td></tr>
<tr class="memdesc:aa164135a7474a6c9d34b7bee20056a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">{}  <br /></td></tr>
<tr class="separator:aa164135a7474a6c9d34b7bee20056a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efe39e6059783c9439d484de8bf2590"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a4efe39e6059783c9439d484de8bf2590">bind</a> (string $userId, string $password)</td></tr>
<tr class="memdesc:a4efe39e6059783c9439d484de8bf2590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind $this to the given userId and password, for instance during listeners for password-change etc.  <br /></td></tr>
<tr class="separator:a4efe39e6059783c9439d484de8bf2590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00a76ffe038ef8a433357bd4114bb52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ac00a76ffe038ef8a433357bd4114bb52">bound</a> ()</td></tr>
<tr class="memdesc:ac00a76ffe038ef8a433357bd4114bb52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if we a bound to a user.  <br /></td></tr>
<tr class="separator:ac00a76ffe038ef8a433357bd4114bb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05f6aa1ffae6295260d9f1cca016bf33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a05f6aa1ffae6295260d9f1cca016bf33">getUserId</a> ()</td></tr>
<tr class="separator:a05f6aa1ffae6295260d9f1cca016bf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef02d325583d49207e4852023acf572d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#aef02d325583d49207e4852023acf572d">getAppEncryptionKey</a> ()</td></tr>
<tr class="separator:aef02d325583d49207e4852023acf572d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8f3852ce65f00f5309bf81a9e17b95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ada8f3852ce65f00f5309bf81a9e17b95">setAppEncryptionKey</a> (?string $key)</td></tr>
<tr class="separator:ada8f3852ce65f00f5309bf81a9e17b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e29201199eb33c36b6921988035892f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a0e29201199eb33c36b6921988035892f">getAppCryptor</a> ()</td></tr>
<tr class="separator:a0e29201199eb33c36b6921988035892f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ae605d551193400e8af55d9f053e75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ab7ae605d551193400e8af55d9f053e75">getAppAsymmetricCryptor</a> ()</td></tr>
<tr class="separator:ab7ae605d551193400e8af55d9f053e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad340ac2983f99f3d7695db636ec83c6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ad340ac2983f99f3d7695db636ec83c6d">initUserKeyPair</a> (bool $forceNewKeyPair=false)</td></tr>
<tr class="memdesc:ad340ac2983f99f3d7695db636ec83c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the per-user public/private key pair, which inparticular is used to propagate the app's encryption key to all relevant users.  <br /></td></tr>
<tr class="separator:ad340ac2983f99f3d7695db636ec83c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830652bacd2fe88b917967c2db01e092"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a830652bacd2fe88b917967c2db01e092">initAppKeyPair</a> (bool $forceNewKeyPair=false)</td></tr>
<tr class="separator:a830652bacd2fe88b917967c2db01e092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f48aaa908602738d288b9d217083719"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a1f48aaa908602738d288b9d217083719">restoreAppKeyPair</a> ()</td></tr>
<tr class="memdesc:a1f48aaa908602738d288b9d217083719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore a potential backup e.g.  <br /></td></tr>
<tr class="separator:a1f48aaa908602738d288b9d217083719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86a584d53e31a592468681ca46dc200"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ad86a584d53e31a592468681ca46dc200">deleteUserKeyPair</a> (string $userId)</td></tr>
<tr class="memdesc:ad86a584d53e31a592468681ca46dc200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the SSL key-pair for the given login.  <br /></td></tr>
<tr class="separator:ad86a584d53e31a592468681ca46dc200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89044dae403670e1950421f9500ab7e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a89044dae403670e1950421f9500ab7e4">getUserEncryptionKey</a> ()</td></tr>
<tr class="separator:a89044dae403670e1950421f9500ab7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5f710d18ae121852e4bdeffe4a6c3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a9c5f710d18ae121852e4bdeffe4a6c3d">setUserEncryptionKey</a> (?string $key, ?string $userId=null)</td></tr>
<tr class="memdesc:a9c5f710d18ae121852e4bdeffe4a6c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the encryption key for the current or the given user.  <br /></td></tr>
<tr class="separator:a9c5f710d18ae121852e4bdeffe4a6c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e6a2643a679ae23f2975018436da50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ae0e6a2643a679ae23f2975018436da50">initAppEncryptionKey</a> ()</td></tr>
<tr class="memdesc:ae0e6a2643a679ae23f2975018436da50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the global symmetric app encryption key used to encrypt shared data.  <br /></td></tr>
<tr class="separator:ae0e6a2643a679ae23f2975018436da50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb19126b250726643c9e37b9a15dc6f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#adb19126b250726643c9e37b9a15dc6f2">getSharedPrivateValue</a> (string $key, mixed $default=null)</td></tr>
<tr class="memdesc:adb19126b250726643c9e37b9a15dc6f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get and decrypt an personal 'user' value encrypted with the public key of key-pair.  <br /></td></tr>
<tr class="separator:adb19126b250726643c9e37b9a15dc6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b0aa8b8719a53937db5141fbfe039b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a7b0aa8b8719a53937db5141fbfe039b3">setSharedPrivateValue</a> (string $key, mixed $value, ?string $userId=null)</td></tr>
<tr class="memdesc:a7b0aa8b8719a53937db5141fbfe039b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encrypt the given value with the user's public key.  <br /></td></tr>
<tr class="separator:a7b0aa8b8719a53937db5141fbfe039b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6eb1d9123c44415874b24b087452e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#abe6eb1d9123c44415874b24b087452e5">encryptionKeyValid</a> (?string $encryptionKey=null)</td></tr>
<tr class="memdesc:abe6eb1d9123c44415874b24b087452e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the validity of the encryption key.  <br /></td></tr>
<tr class="separator:abe6eb1d9123c44415874b24b087452e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2a8487a2ff84a0fa4530de4d61d83b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a6c2a8487a2ff84a0fa4530de4d61d83b">getAppValue</a> (string $key, mixed $default=null)</td></tr>
<tr class="memdesc:a6c2a8487a2ff84a0fa4530de4d61d83b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A short-cut, redirecting to the stock functions for the app.  <br /></td></tr>
<tr class="separator:a6c2a8487a2ff84a0fa4530de4d61d83b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9675645d9c7c98621786975efc0dc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#aba9675645d9c7c98621786975efc0dc4">setAppValue</a> (string $key, mixed $value)</td></tr>
<tr class="memdesc:aba9675645d9c7c98621786975efc0dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A short-cut, redirecting to the stock functions for the app.  <br /></td></tr>
<tr class="separator:aba9675645d9c7c98621786975efc0dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fab4359164383b07bb3581e53d17006"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a3fab4359164383b07bb3581e53d17006">getUserValue</a> (string $userId, string $key, mixed $default=null)</td></tr>
<tr class="separator:a3fab4359164383b07bb3581e53d17006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc9167435524394fd8822a458dc1183"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a9cc9167435524394fd8822a458dc1183">setUserValue</a> (string $userId, string $key, mixed $value)</td></tr>
<tr class="separator:a9cc9167435524394fd8822a458dc1183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74eb280f29289e2fbff1d988e8b28df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ad74eb280f29289e2fbff1d988e8b28df">deleteUserValue</a> (string $userId, string $key)</td></tr>
<tr class="separator:ad74eb280f29289e2fbff1d988e8b28df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3eb9937785e05b6d3e638fc187072c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a7f3eb9937785e05b6d3e638fc187072c">getConfigValue</a> (string $key, mixed $default=null, bool $ignoreLock=false)</td></tr>
<tr class="memdesc:a7f3eb9937785e05b6d3e638fc187072c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the value for the given key and possibly decrypt it.  <br /></td></tr>
<tr class="separator:a7f3eb9937785e05b6d3e638fc187072c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792774c92dc1796e545ee29374a96402"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a792774c92dc1796e545ee29374a96402">setConfigValue</a> (string $key, mixed $value, bool $ignoreLock=false)</td></tr>
<tr class="memdesc:a792774c92dc1796e545ee29374a96402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encrypt the given value and store it in the application settings table of the Cloud.  <br /></td></tr>
<tr class="separator:a792774c92dc1796e545ee29374a96402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00d9a637dd0c0e25a62685bad893023"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#af00d9a637dd0c0e25a62685bad893023">verifyHash</a> (?string $value, $hash)</td></tr>
<tr class="separator:af00d9a637dd0c0e25a62685bad893023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba7d099001824ef56f56c7ddcaa9d74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a8ba7d099001824ef56f56c7ddcaa9d74">computeHash</a> (string $value)</td></tr>
<tr class="separator:a8ba7d099001824ef56f56c7ddcaa9d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ab71828eb2d1047f104af3661d2b95606"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ab71828eb2d1047f104af3661d2b95606">PUBLIC_ENCRYPTION_KEY</a> = Crypto\AsymmetricKeyService::PUBLIC_ENCRYPTION_KEY_CONFIG</td></tr>
<tr class="separator:ab71828eb2d1047f104af3661d2b95606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34dd1c548ab20c5a3c73fa8b437307a5"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a34dd1c548ab20c5a3c73fa8b437307a5">PRIVATE_ENCRYPTION_KEY</a> = Crypto\AsymmetricKeyService::PRIVATE_ENCRYPTION_KEY_CONFIG</td></tr>
<tr class="separator:a34dd1c548ab20c5a3c73fa8b437307a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323ecea7e1880f13e27f006a61bb3810"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a323ecea7e1880f13e27f006a61bb3810">USER_ENCRYPTION_KEY_KEY</a> = 'encryptionkey'</td></tr>
<tr class="separator:a323ecea7e1880f13e27f006a61bb3810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31049b0d07faf15e609f8be884373b99"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a31049b0d07faf15e609f8be884373b99">APP_ENCRYPTION_KEY_HASH_KEY</a> = 'encryptionkeyhash'</td></tr>
<tr class="separator:a31049b0d07faf15e609f8be884373b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9750a5f358190c08e128677b771a92d0"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a9750a5f358190c08e128677b771a92d0">CONFIG_LOCK_KEY</a> = 'configlock'</td></tr>
<tr class="separator:a9750a5f358190c08e128677b771a92d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada24e3e6d608a3c6ee4fe4bce92e1fd3"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ada24e3e6d608a3c6ee4fe4bce92e1fd3">NEVER_ENCRYPT</a></td></tr>
<tr class="separator:ada24e3e6d608a3c6ee4fe4bce92e1fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3684e261532b529d703694ca57f0a4e5"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a3684e261532b529d703694ca57f0a4e5">SHARED_PRIVATE_VALUES</a></td></tr>
<tr class="separator:a3684e261532b529d703694ca57f0a4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9161d871483454c158ecd89745ee1607"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a9161d871483454c158ecd89745ee1607">$appName</a></td></tr>
<tr class="separator:a9161d871483454c158ecd89745ee1607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad64aecdd5c2b49970c657488aa969563"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ad64aecdd5c2b49970c657488aa969563">$containerConfig</a></td></tr>
<tr class="separator:ad64aecdd5c2b49970c657488aa969563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a477ddd797cbaa807932fd50565bd9f91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a477ddd797cbaa807932fd50565bd9f91">$hasher</a></td></tr>
<tr class="separator:a477ddd797cbaa807932fd50565bd9f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08c7e54612ae6bfd1b8c23f00ec6ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#ad08c7e54612ae6bfd1b8c23f00ec6ca5">$eventDispatcher</a></td></tr>
<tr class="separator:ad08c7e54612ae6bfd1b8c23f00ec6ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45a9e67803cafc187be90b6d4563e74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#af45a9e67803cafc187be90b6d4563e74">$asymKeyService</a></td></tr>
<tr class="separator:af45a9e67803cafc187be90b6d4563e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacfbb511349d8afb037495c20d70fadd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#aacfbb511349d8afb037495c20d70fadd">$appCryptor</a></td></tr>
<tr class="separator:aacfbb511349d8afb037495c20d70fadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5169a431c37d779b0b761c97b04c02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a4f5169a431c37d779b0b761c97b04c02">$appAsymmetricCryptor</a></td></tr>
<tr class="separator:a4f5169a431c37d779b0b761c97b04c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a14129ed912638cfe54519194e5f97c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a0a14129ed912638cfe54519194e5f97c">$userId</a> = null</td></tr>
<tr class="separator:a0a14129ed912638cfe54519194e5f97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb6f5a79b2d06e9087a5b23a7a35214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#a9bb6f5a79b2d06e9087a5b23a7a35214">$userPassword</a> = null</td></tr>
<tr class="separator:a9bb6f5a79b2d06e9087a5b23a7a35214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7e2ceca9a1f4744174333be0cd9000"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html#add7e2ceca9a1f4744174333be0cd9000">$userAsymmetricCryptor</a></td></tr>
<tr class="separator:add7e2ceca9a1f4744174333be0cd9000"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handle some encryption tasks: </p>
<ul>
<li>shared encryption key</li>
<li>encrypted app config values with the shared encryption key</li>
<li>encrypted per-user config values where needed</li>
<li>asymmetric encryption for per-user encryption key</li>
</ul>
<p>We only support the case where the password is available through the credential store of the emedding cloud instance.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000075">Todo:</a></b></dt><dd>One could cache the decrypted configuration values given that encryption may be costly. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00075">75</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa164135a7474a6c9d34b7bee20056a4d" name="aa164135a7474a6c9d34b7bee20056a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa164135a7474a6c9d34b7bee20056a4d">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$appName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_authorization_service.html">AuthorizationService</a>&#160;</td>
          <td class="paramname"><em>$authorization</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IConfig&#160;</td>
          <td class="paramname"><em>$containerConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IUserSession&#160;</td>
          <td class="paramname"><em>$userSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_asymmetric_key_service.html">Crypto\AsymmetricKeyService</a>&#160;</td>
          <td class="paramname"><em>$asymKeyService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_crypto_factory_interface.html">Crypto\CryptoFactoryInterface</a>&#160;</td>
          <td class="paramname"><em>$cryptoFactory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IHasher&#160;</td>
          <td class="paramname"><em>$hasher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ICredentialsStore&#160;</td>
          <td class="paramname"><em>$credentialsStore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IEventDispatcher&#160;</td>
          <td class="paramname"><em>$eventDispatcher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&#160;</td>
          <td class="paramname"><em>$logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IL10N&#160;</td>
          <td class="paramname"><em>$l10n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>{} </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00135">135</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_authorization_service_8php_source.html#l00090">AuthorizationService\authorized()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00191">EncryptionService\bind()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_aa164135a7474a6c9d34b7bee20056a4d_cgraph.svg" width="100%" height="514"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4efe39e6059783c9439d484de8bf2590" name="a4efe39e6059783c9439d484de8bf2590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efe39e6059783c9439d484de8bf2590">&#9670;&#160;</a></span>bind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bind </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind $this to the given userId and password, for instance during listeners for password-change etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td>User id to bind.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>Userpassword for binding.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00191">191</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00390">EncryptionService\initAppEncryptionKey()</a>, <a class="el" href="_encryption_service_8php_source.html#l00298">EncryptionService\initAppKeyPair()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00265">EncryptionService\initUserKeyPair()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00135">EncryptionService\__construct()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a4efe39e6059783c9439d484de8bf2590_cgraph.svg" width="656" height="286"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a4efe39e6059783c9439d484de8bf2590_icgraph.svg" width="196" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac00a76ffe038ef8a433357bd4114bb52" name="ac00a76ffe038ef8a433357bd4114bb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00a76ffe038ef8a433357bd4114bb52">&#9670;&#160;</a></span>bound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if we a bound to a user. </p>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00207">207</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00476">EncryptionService\encryptionKeyValid()</a>, <a class="el" href="_encryption_service_8php_source.html#l00217">EncryptionService\getUserId()</a>, <a class="el" href="_encryption_service_8php_source.html#l00390">EncryptionService\initAppEncryptionKey()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00453">EncryptionService\setSharedPrivateValue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_ac00a76ffe038ef8a433357bd4114bb52_icgraph.svg" width="611" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8ba7d099001824ef56f56c7ddcaa9d74" name="a8ba7d099001824ef56f56c7ddcaa9d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba7d099001824ef56f56c7ddcaa9d74">&#9670;&#160;</a></span>computeHash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">computeHash </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$value</td><td>The value to hash.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string The hash of $value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00675">675</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ad86a584d53e31a592468681ca46dc200" name="ad86a584d53e31a592468681ca46dc200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86a584d53e31a592468681ca46dc200">&#9670;&#160;</a></span>deleteUserKeyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">deleteUserKeyPair </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$userId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the SSL key-pair for the given login. </p>
<p>This is needed if an administrator changes the password. This will make all other encrypted data unavailable, so as a side-effect all encrypted data is removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00355">355</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ad74eb280f29289e2fbff1d988e8b28df" name="ad74eb280f29289e2fbff1d988e8b28df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74eb280f29289e2fbff1d988e8b28df">&#9670;&#160;</a></span>deleteUserValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">deleteUserValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td>Use the current user if null.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00574">574</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="abe6eb1d9123c44415874b24b087452e5" name="abe6eb1d9123c44415874b24b087452e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe6eb1d9123c44415874b24b087452e5">&#9670;&#160;</a></span>encryptionKeyValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encryptionKeyValid </td>
          <td>(</td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$encryptionKey</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the validity of the encryption key. </p>
<p>In order to do so we fetch an encrypted representation of the key from the OC config space and try to decrypt that key with the given key. If the decrypted key matches our key, then we accept the key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$encryptionKey</td><td>Key to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionKeyException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00476">476</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00207">EncryptionService\bound()</a>, <a class="el" href="_encryption_service_8php_source.html#l00592">EncryptionService\getConfigValue()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00665">EncryptionService\verifyHash()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_abe6eb1d9123c44415874b24b087452e5_cgraph.svg" width="446" height="135"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab7ae605d551193400e8af55d9f053e75" name="ab7ae605d551193400e8af55d9f053e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ae605d551193400e8af55d9f053e75">&#9670;&#160;</a></span>getAppAsymmetricCryptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppAsymmetricCryptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>null|Crypto\AsymmetricCryptorInterface </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00248">248</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a0e29201199eb33c36b6921988035892f" name="a0e29201199eb33c36b6921988035892f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e29201199eb33c36b6921988035892f">&#9670;&#160;</a></span>getAppCryptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppCryptor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Crypto\ICryptor </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00240">240</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="aef02d325583d49207e4852023acf572d" name="aef02d325583d49207e4852023acf572d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef02d325583d49207e4852023acf572d">&#9670;&#160;</a></span>getAppEncryptionKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppEncryptionKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>string App encryption key </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00223">223</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00298">EncryptionService\initAppKeyPair()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00331">EncryptionService\restoreAppKeyPair()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_aef02d325583d49207e4852023acf572d_icgraph.svg" width="632" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6c2a8487a2ff84a0fa4530de4d61d83b" name="a6c2a8487a2ff84a0fa4530de4d61d83b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2a8487a2ff84a0fa4530de4d61d83b">&#9670;&#160;</a></span>getAppValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAppValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A short-cut, redirecting to the stock functions for the app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>Default value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00520">520</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00592">EncryptionService\getConfigValue()</a>, <a class="el" href="_encryption_service_8php_source.html#l00298">EncryptionService\initAppKeyPair()</a>, <a class="el" href="_encryption_service_8php_source.html#l00331">EncryptionService\restoreAppKeyPair()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00634">EncryptionService\setConfigValue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a6c2a8487a2ff84a0fa4530de4d61d83b_icgraph.svg" width="100%" height="478"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a7f3eb9937785e05b6d3e638fc187072c" name="a7f3eb9937785e05b6d3e638fc187072c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3eb9937785e05b6d3e638fc187072c">&#9670;&#160;</a></span>getConfigValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getConfigValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$ignoreLock</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch the value for the given key and possibly decrypt it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td></td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$ignoreLock</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\ConfigLockedException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00592">592</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00520">EncryptionService\getAppValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00476">EncryptionService\encryptionKeyValid()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00390">EncryptionService\initAppEncryptionKey()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a7f3eb9937785e05b6d3e638fc187072c_cgraph.svg" width="264" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a7f3eb9937785e05b6d3e638fc187072c_icgraph.svg" width="550" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="adb19126b250726643c9e37b9a15dc6f2" name="adb19126b250726643c9e37b9a15dc6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb19126b250726643c9e37b9a15dc6f2">&#9670;&#160;</a></span>getSharedPrivateValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSharedPrivateValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get and decrypt an personal 'user' value encrypted with the public key of key-pair. </p>
<p>Throw an exception if $this is not bound to a user and password, see self::bind().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>Default value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string Decrypted config value.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionKeyException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00432">432</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00362">EncryptionService\getUserEncryptionKey()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_adb19126b250726643c9e37b9a15dc6f2_icgraph.svg" width="100%" height="364"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a89044dae403670e1950421f9500ab7e4" name="a89044dae403670e1950421f9500ab7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89044dae403670e1950421f9500ab7e4">&#9670;&#160;</a></span>getUserEncryptionKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserEncryptionKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>null|string </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00362">362</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00432">EncryptionService\getSharedPrivateValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00390">EncryptionService\initAppEncryptionKey()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00265">EncryptionService\initUserKeyPair()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a89044dae403670e1950421f9500ab7e4_cgraph.svg" width="367" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a89044dae403670e1950421f9500ab7e4_icgraph.svg" width="592" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a05f6aa1ffae6295260d9f1cca016bf33" name="a05f6aa1ffae6295260d9f1cca016bf33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05f6aa1ffae6295260d9f1cca016bf33">&#9670;&#160;</a></span>getUserId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>null|string Bound user id if any. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00217">217</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00207">EncryptionService\bound()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a05f6aa1ffae6295260d9f1cca016bf33_cgraph.svg" width="195" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3fab4359164383b07bb3581e53d17006" name="a3fab4359164383b07bb3581e53d17006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fab4359164383b07bb3581e53d17006">&#9670;&#160;</a></span>getUserValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$default</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td>Use the current user if null.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$default</td><td>Default value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00548">548</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ae0e6a2643a679ae23f2975018436da50" name="ae0e6a2643a679ae23f2975018436da50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e6a2643a679ae23f2975018436da50">&#9670;&#160;</a></span>initAppEncryptionKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">initAppEncryptionKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the global symmetric app encryption key used to encrypt shared data. </p>
<dl class="section return"><dt>Returns</dt><dd>bool \true on success.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionKeyException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00390">390</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00207">EncryptionService\bound()</a>, <a class="el" href="_encryption_service_8php_source.html#l00592">EncryptionService\getConfigValue()</a>, <a class="el" href="_encryption_service_8php_source.html#l00362">EncryptionService\getUserEncryptionKey()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00665">EncryptionService\verifyHash()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00191">EncryptionService\bind()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_ae0e6a2643a679ae23f2975018436da50_cgraph.svg" width="562" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_ae0e6a2643a679ae23f2975018436da50_icgraph.svg" width="391" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a830652bacd2fe88b917967c2db01e092" name="a830652bacd2fe88b917967c2db01e092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830652bacd2fe88b917967c2db01e092">&#9670;&#160;</a></span>initAppKeyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">initAppKeyPair </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$forceNewKeyPair</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$forceNewKeyPair</td><td>Whether to force regeneration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00298">298</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00223">EncryptionService\getAppEncryptionKey()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00520">EncryptionService\getAppValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00191">EncryptionService\bind()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00331">EncryptionService\restoreAppKeyPair()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a830652bacd2fe88b917967c2db01e092_cgraph.svg" width="315" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a830652bacd2fe88b917967c2db01e092_icgraph.svg" width="436" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad340ac2983f99f3d7695db636ec83c6d" name="ad340ac2983f99f3d7695db636ec83c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad340ac2983f99f3d7695db636ec83c6d">&#9670;&#160;</a></span>initUserKeyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">initUserKeyPair </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$forceNewKeyPair</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the per-user public/private key pair, which inparticular is used to propagate the app's encryption key to all relevant users. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$forceNewKeyPair</td><td>Generate a new key pair even if an old one is found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionKeyException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00265">265</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00362">EncryptionService\getUserEncryptionKey()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00191">EncryptionService\bind()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_ad340ac2983f99f3d7695db636ec83c6d_cgraph.svg" width="528" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_ad340ac2983f99f3d7695db636ec83c6d_icgraph.svg" width="358" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1f48aaa908602738d288b9d217083719" name="a1f48aaa908602738d288b9d217083719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f48aaa908602738d288b9d217083719">&#9670;&#160;</a></span>restoreAppKeyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">restoreAppKeyPair </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore a potential backup e.g. </p>
<p>after recryption failure.</p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00331">331</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00223">EncryptionService\getAppEncryptionKey()</a>, <a class="el" href="_encryption_service_8php_source.html#l00520">EncryptionService\getAppValue()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00298">EncryptionService\initAppKeyPair()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a1f48aaa908602738d288b9d217083719_cgraph.svg" width="494" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ada8f3852ce65f00f5309bf81a9e17b95" name="ada8f3852ce65f00f5309bf81a9e17b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8f3852ce65f00f5309bf81a9e17b95">&#9670;&#160;</a></span>setAppEncryptionKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppEncryptionKey </td>
          <td>(</td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$key</td><td>Install the given encryption key for the app.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00233">233</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="aba9675645d9c7c98621786975efc0dc4" name="aba9675645d9c7c98621786975efc0dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9675645d9c7c98621786975efc0dc4">&#9670;&#160;</a></span>setAppValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAppValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A short-cut, redirecting to the stock functions for the app. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Value to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00534">534</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00634">EncryptionService\setConfigValue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_aba9675645d9c7c98621786975efc0dc4_icgraph.svg" width="264" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a792774c92dc1796e545ee29374a96402" name="a792774c92dc1796e545ee29374a96402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792774c92dc1796e545ee29374a96402">&#9670;&#160;</a></span>setConfigValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setConfigValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$ignoreLock</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encrypt the given value and store it in the application settings table of the Cloud. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Configuration key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Configuration value.</td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$ignoreLock</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\ConfigLockedException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00634">634</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00520">EncryptionService\getAppValue()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00534">EncryptionService\setAppValue()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a792774c92dc1796e545ee29374a96402_cgraph.svg" width="264" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7b0aa8b8719a53937db5141fbfe039b3" name="a7b0aa8b8719a53937db5141fbfe039b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b0aa8b8719a53937db5141fbfe039b3">&#9670;&#160;</a></span>setSharedPrivateValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setSharedPrivateValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$userId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encrypt the given value with the user's public key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Configuration key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Value to be encrypted. Must be convertible to string.</td></tr>
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$userId</td><td>Potentitally different than logged in user id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionKeyException </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\EncryptionFailedException </p>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00453">453</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00207">EncryptionService\bound()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00377">EncryptionService\setUserEncryptionKey()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a7b0aa8b8719a53937db5141fbfe039b3_cgraph.svg" width="271" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a7b0aa8b8719a53937db5141fbfe039b3_icgraph.svg" width="367" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9c5f710d18ae121852e4bdeffe4a6c3d" name="a9c5f710d18ae121852e4bdeffe4a6c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5f710d18ae121852e4bdeffe4a6c3d">&#9670;&#160;</a></span>setUserEncryptionKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setUserEncryptionKey </td>
          <td>(</td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$userId</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the encryption key for the current or the given user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$key</td><td>Encryption key.</td></tr>
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$userId</td><td>A potentially different than the currently logged in user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00377">377</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">References <a class="el" href="_encryption_service_8php_source.html#l00453">EncryptionService\setSharedPrivateValue()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_a9c5f710d18ae121852e4bdeffe4a6c3d_cgraph.svg" width="472" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9cc9167435524394fd8822a458dc1183" name="a9cc9167435524394fd8822a458dc1183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc9167435524394fd8822a458dc1183">&#9670;&#160;</a></span>setUserValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setUserValue </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$userId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mixed&#160;</td>
          <td class="paramname"><em>$value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$userId</td><td>Use the current user if null.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$key</td><td>Config key.</td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td>Value to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00562">562</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="af00d9a637dd0c0e25a62685bad893023" name="af00d9a637dd0c0e25a62685bad893023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00d9a637dd0c0e25a62685bad893023">&#9670;&#160;</a></span>verifyHash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">verifyHash </td>
          <td>(</td>
          <td class="paramtype">?string&#160;</td>
          <td class="paramname"><em>$value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$value</td><td>Value to verify.</td></tr>
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$hash</td><td>Hash to verify against.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool \true if either hash or value are empty or if the hash could be verified. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00665">665</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_encryption_service_8php_source.html#l00476">EncryptionService\encryptionKeyValid()</a>, and <a class="el" href="_encryption_service_8php_source.html#l00390">EncryptionService\initAppEncryptionKey()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service_af00d9a637dd0c0e25a62685bad893023_icgraph.svg" width="524" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a4f5169a431c37d779b0b761c97b04c02" name="a4f5169a431c37d779b0b761c97b04c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5169a431c37d779b0b761c97b04c02">&#9670;&#160;</a></span>$appAsymmetricCryptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Crypto <a class="el" href="interface_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_asymmetric_cryptor_interface.html">AsymmetricCryptorInterface</a> $appAsymmetricCryptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00123">123</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="aacfbb511349d8afb037495c20d70fadd" name="aacfbb511349d8afb037495c20d70fadd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacfbb511349d8afb037495c20d70fadd">&#9670;&#160;</a></span>$appCryptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Crypto <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_cloud_symmetric_cryptor.html">CloudSymmetricCryptor</a> $appCryptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00120">120</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a9161d871483454c158ecd89745ee1607" name="a9161d871483454c158ecd89745ee1607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9161d871483454c158ecd89745ee1607">&#9670;&#160;</a></span>$appName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $appName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00105">105</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="af45a9e67803cafc187be90b6d4563e74" name="af45a9e67803cafc187be90b6d4563e74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45a9e67803cafc187be90b6d4563e74">&#9670;&#160;</a></span>$asymKeyService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Crypto <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_asymmetric_key_service.html">AsymmetricKeyService</a> $asymKeyService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00117">117</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ad64aecdd5c2b49970c657488aa969563" name="ad64aecdd5c2b49970c657488aa969563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64aecdd5c2b49970c657488aa969563">&#9670;&#160;</a></span>$containerConfig</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IConfig $containerConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00108">108</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ad08c7e54612ae6bfd1b8c23f00ec6ca5" name="ad08c7e54612ae6bfd1b8c23f00ec6ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08c7e54612ae6bfd1b8c23f00ec6ca5">&#9670;&#160;</a></span>$eventDispatcher</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IEventDispatcher $eventDispatcher</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00114">114</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a477ddd797cbaa807932fd50565bd9f91" name="a477ddd797cbaa807932fd50565bd9f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a477ddd797cbaa807932fd50565bd9f91">&#9670;&#160;</a></span>$hasher</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IHasher $hasher</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00111">111</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="add7e2ceca9a1f4744174333be0cd9000" name="add7e2ceca9a1f4744174333be0cd9000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7e2ceca9a1f4744174333be0cd9000">&#9670;&#160;</a></span>$userAsymmetricCryptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Crypto <a class="el" href="interface_o_c_a_1_1_c_a_f_e_v_d_b_1_1_crypto_1_1_asymmetric_cryptor_interface.html">AsymmetricCryptorInterface</a> $userAsymmetricCryptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00132">132</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a0a14129ed912638cfe54519194e5f97c" name="a0a14129ed912638cfe54519194e5f97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a14129ed912638cfe54519194e5f97c">&#9670;&#160;</a></span>$userId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $userId = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00126">126</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a9bb6f5a79b2d06e9087a5b23a7a35214" name="a9bb6f5a79b2d06e9087a5b23a7a35214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb6f5a79b2d06e9087a5b23a7a35214">&#9670;&#160;</a></span>$userPassword</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $userPassword = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00129">129</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a31049b0d07faf15e609f8be884373b99" name="a31049b0d07faf15e609f8be884373b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31049b0d07faf15e609f8be884373b99">&#9670;&#160;</a></span>APP_ENCRYPTION_KEY_HASH_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const APP_ENCRYPTION_KEY_HASH_KEY = 'encryptionkeyhash'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00083">83</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a9750a5f358190c08e128677b771a92d0" name="a9750a5f358190c08e128677b771a92d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9750a5f358190c08e128677b771a92d0">&#9670;&#160;</a></span>CONFIG_LOCK_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const CONFIG_LOCK_KEY = 'configlock'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00085">85</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ada24e3e6d608a3c6ee4fe4bce92e1fd3" name="ada24e3e6d608a3c6ee4fe4bce92e1fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada24e3e6d608a3c6ee4fe4bce92e1fd3">&#9670;&#160;</a></span>NEVER_ENCRYPT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const NEVER_ENCRYPT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;enabled&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;installed_version&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;types&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;usergroup&#39;</span>, </div>
<div class="line">    <span class="stringliteral">&#39;wikinamespace&#39;</span>, </div>
<div class="line">    <span class="stringliteral">&#39;cspfailuretoken&#39;</span>, </div>
<div class="line">    <span class="stringliteral">&#39;configlock&#39;</span>, </div>
<div class="line">    <span class="stringliteral">&#39;orchestra&#39;</span>, </div>
<div class="line">    <span class="stringliteral">&#39;orchestraLocale&#39;</span>, </div>
<div class="line">    self::APP_ENCRYPTION_KEY_HASH_KEY,</div>
<div class="line">  ]</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00087">87</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a34dd1c548ab20c5a3c73fa8b437307a5" name="a34dd1c548ab20c5a3c73fa8b437307a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34dd1c548ab20c5a3c73fa8b437307a5">&#9670;&#160;</a></span>PRIVATE_ENCRYPTION_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const PRIVATE_ENCRYPTION_KEY = Crypto\AsymmetricKeyService::PRIVATE_ENCRYPTION_KEY_CONFIG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00080">80</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="ab71828eb2d1047f104af3661d2b95606" name="ab71828eb2d1047f104af3661d2b95606"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71828eb2d1047f104af3661d2b95606">&#9670;&#160;</a></span>PUBLIC_ENCRYPTION_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const PUBLIC_ENCRYPTION_KEY = Crypto\AsymmetricKeyService::PUBLIC_ENCRYPTION_KEY_CONFIG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00079">79</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a3684e261532b529d703694ca57f0a4e5" name="a3684e261532b529d703694ca57f0a4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3684e261532b529d703694ca57f0a4e5">&#9670;&#160;</a></span>SHARED_PRIVATE_VALUES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SHARED_PRIVATE_VALUES</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">    self::USER_ENCRYPTION_KEY_KEY,</div>
<div class="line">  ]</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00100">100</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<a id="a323ecea7e1880f13e27f006a61bb3810" name="a323ecea7e1880f13e27f006a61bb3810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323ecea7e1880f13e27f006a61bb3810">&#9670;&#160;</a></span>USER_ENCRYPTION_KEY_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const USER_ENCRYPTION_KEY_KEY = 'encryptionkey'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_encryption_service_8php_source.html#l00082">82</a> of file <a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/www/dev1/htdocs/nextcloud-git-25/apps/cafevdb/lib/Service/<a class="el" href="_encryption_service_8php_source.html">EncryptionService.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>OCA</b></li><li class="navelem"><a class="el" href="namespace_o_c_a_1_1_c_a_f_e_v_d_b.html">CAFEVDB</a></li><li class="navelem"><a class="el" href="namespace_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service.html">Service</a></li><li class="navelem"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html">EncryptionService</a></li>
    <li class="footer">Generated on Wed Mar 22 2023 10:36:50 for CamerataDB by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
