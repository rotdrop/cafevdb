<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link rel="shortcut icon" type="image/png" href="/nextcloud-git/apps/cafevdb/img/logo-greyf32x32.png" />
<title>CamerataDB: CloudUserConnectorService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="/usr/share/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo128x128.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CamerataDB
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">Database application to ease the management of a project-oriented orchestra.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">CloudUserConnectorService Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manage database-views and grants in order to selectively provide only the neccessary information to the ambient cloud system.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa7a0981bcb0a63dc601628da525c1a45" id="r_aa7a0981bcb0a63dc601628da525c1a45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7a0981bcb0a63dc601628da525c1a45">__construct</a> (private string $appName, private IAppContainer $appContainer, protected ILogger $logger, private IL10N $l, private IConfig $cloudConfig, private <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html">EncryptionService</a> $encryptionService, private IAppManager $appManager,)</td></tr>
<tr class="separator:aa7a0981bcb0a63dc601628da525c1a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9908b4a2aaa00954cc55cac5d5ad1b2" id="r_ab9908b4a2aaa00954cc55cac5d5ad1b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9908b4a2aaa00954cc55cac5d5ad1b2">checkRequirements</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:ab9908b4a2aaa00954cc55cac5d5ad1b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the requirements for this affair, in particular whether the user_sql backend is enabled, and return an error with status and hints.  <br /></td></tr>
<tr class="separator:ab9908b4a2aaa00954cc55cac5d5ad1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cc4d88d9fdb83c10a875b1fcd19087" id="r_a36cc4d88d9fdb83c10a875b1fcd19087"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36cc4d88d9fdb83c10a875b1fcd19087">projectGroupId</a> (int $projectId)</td></tr>
<tr class="memdesc:a36cc4d88d9fdb83c10a875b1fcd19087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the group-id for the given numeric project-id.  <br /></td></tr>
<tr class="separator:a36cc4d88d9fdb83c10a875b1fcd19087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f6d9da1bc4c1797b708227e1a1d40f" id="r_a93f6d9da1bc4c1797b708227e1a1d40f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93f6d9da1bc4c1797b708227e1a1d40f">updateUserSqlViews</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:a93f6d9da1bc4c1797b708227e1a1d40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the views interacting with the Nextcloud user_sql backend and update their grants.  <br /></td></tr>
<tr class="separator:a93f6d9da1bc4c1797b708227e1a1d40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac82adab72318c73cb5c69f91bde1782e" id="r_ac82adab72318c73cb5c69f91bde1782e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac82adab72318c73cb5c69f91bde1782e">removeUserSqlViews</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:ac82adab72318c73cb5c69f91bde1782e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the user-sql views.  <br /></td></tr>
<tr class="separator:ac82adab72318c73cb5c69f91bde1782e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738d301bd56cac033014f9e648939e42" id="r_a738d301bd56cac033014f9e648939e42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a738d301bd56cac033014f9e648939e42">writeUserSqlConfig</a> (?string $dataBaseName=null, bool $delete=false)</td></tr>
<tr class="memdesc:a738d301bd56cac033014f9e648939e42"><td class="mdescLeft">&#160;</td><td class="mdescRight">For the moment this just fills in our own app-config.  <br /></td></tr>
<tr class="separator:a738d301bd56cac033014f9e648939e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace684f0b8c77b94c50d856b0e172007" id="r_aace684f0b8c77b94c50d856b0e172007"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aace684f0b8c77b94c50d856b0e172007">synchronizeCloud</a> ()</td></tr>
<tr class="memdesc:aace684f0b8c77b94c50d856b0e172007"><td class="mdescLeft">&#160;</td><td class="mdescRight">In particular flush potential data-caches after changing data of the orchestra app.  <br /></td></tr>
<tr class="separator:aace684f0b8c77b94c50d856b0e172007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a293b86b415db5c17994d462e546752" id="r_a8a293b86b415db5c17994d462e546752"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a293b86b415db5c17994d462e546752">haveCloudUserBackendConfig</a> ()</td></tr>
<tr class="separator:a8a293b86b415db5c17994d462e546752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8482f7cd6afd7290823d6bfafe1c2a3" id="r_ab8482f7cd6afd7290823d6bfafe1c2a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8482f7cd6afd7290823d6bfafe1c2a3">updateMusicianPersonalizedViews</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:ab8482f7cd6afd7290823d6bfafe1c2a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the personalized one-row views which give individual orchestra members access to just their own data.  <br /></td></tr>
<tr class="separator:ab8482f7cd6afd7290823d6bfafe1c2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e78d362d26b66ba16cfd97a46499da" id="r_a10e78d362d26b66ba16cfd97a46499da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10e78d362d26b66ba16cfd97a46499da">removeMusicianPersonalizedViews</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:a10e78d362d26b66ba16cfd97a46499da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the personalized one-row views which give individual orchestra members access to just their own data.  <br /></td></tr>
<tr class="separator:a10e78d362d26b66ba16cfd97a46499da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a1441ad87ee1ac15b33885e91a9131ecc" id="r_a1441ad87ee1ac15b33885e91a9131ecc"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1441ad87ee1ac15b33885e91a9131ecc">REQUIREMENTS_OK</a> = true</td></tr>
<tr class="separator:a1441ad87ee1ac15b33885e91a9131ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454949d41788fb01b04a84adeb5dd6cc" id="r_a454949d41788fb01b04a84adeb5dd6cc"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a454949d41788fb01b04a84adeb5dd6cc">REQUIREMENTS_MISSING</a> = false</td></tr>
<tr class="separator:a454949d41788fb01b04a84adeb5dd6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1861b1649df098652341074d883fe10d" id="r_a1861b1649df098652341074d883fe10d"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1861b1649df098652341074d883fe10d">CLOUD_USER_BACKEND</a> = 'user_sql'</td></tr>
<tr class="separator:a1861b1649df098652341074d883fe10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8fb8c3d4ee4ade9441d3e2cb65099e" id="r_a9c8fb8c3d4ee4ade9441d3e2cb65099e"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c8fb8c3d4ee4ade9441d3e2cb65099e">CLOUD_USER_GROUP_ID</a> = self::CLOUD_USER_BACKEND</td></tr>
<tr class="separator:a9c8fb8c3d4ee4ade9441d3e2cb65099e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd0e2961736f6e39ade0ea351829b09" id="r_abcd0e2961736f6e39ade0ea351829b09"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abcd0e2961736f6e39ade0ea351829b09">VIEW_POSTFIX</a> = 'View'</td></tr>
<tr class="separator:abcd0e2961736f6e39ade0ea351829b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4390e4a4448749b1622e26e566cfae" id="r_adf4390e4a4448749b1622e26e566cfae"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf4390e4a4448749b1622e26e566cfae">USER_SQL_PREFIX</a> = 'Nextcloud'</td></tr>
<tr class="separator:adf4390e4a4448749b1622e26e566cfae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add88c45c3d096fa7412d4ce46099006f" id="r_add88c45c3d096fa7412d4ce46099006f"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add88c45c3d096fa7412d4ce46099006f">PERSONALIZED_PREFIX</a> = 'Personalized'</td></tr>
<tr class="separator:add88c45c3d096fa7412d4ce46099006f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9209edb5bae0481aae491b885d7cf9" id="r_a2f9209edb5bae0481aae491b885d7cf9"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f9209edb5bae0481aae491b885d7cf9">GROUP_ID_SEPARATOR</a> = '_'</td></tr>
<tr class="separator:a2f9209edb5bae0481aae491b885d7cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2bf5b56d90a38857068adc32302b51" id="r_a6c2bf5b56d90a38857068adc32302b51"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c2bf5b56d90a38857068adc32302b51">GROUP_ID_PREFIX</a> = '%2$s' . self::GROUP_ID_SEPARATOR</td></tr>
<tr class="separator:a6c2bf5b56d90a38857068adc32302b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4c23a8e0414027e223895599b93126" id="r_add4c23a8e0414027e223895599b93126"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add4c23a8e0414027e223895599b93126">USER_SQL_USER_GROUP_VIEW</a></td></tr>
<tr class="separator:add4c23a8e0414027e223895599b93126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3d4ca721f8c3bdec0bd014496b302f" id="r_a1d3d4ca721f8c3bdec0bd014496b302f"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d3d4ca721f8c3bdec0bd014496b302f">USER_SQL_VIEWS</a></td></tr>
<tr class="separator:a1d3d4ca721f8c3bdec0bd014496b302f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aba35c523de2809e1c035ed2aa9a14f" id="r_a5aba35c523de2809e1c035ed2aa9a14f"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aba35c523de2809e1c035ed2aa9a14f">MUSICIAN_ID_TABLES</a></td></tr>
<tr class="separator:a5aba35c523de2809e1c035ed2aa9a14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397130f8e4bcfcff97808e25d85a6099" id="r_a397130f8e4bcfcff97808e25d85a6099"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a397130f8e4bcfcff97808e25d85a6099">UNRESTRICTED_TABLES</a></td></tr>
<tr class="separator:a397130f8e4bcfcff97808e25d85a6099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90801e0a5c4bb225d5ea52d361f9435e" id="r_a90801e0a5c4bb225d5ea52d361f9435e"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90801e0a5c4bb225d5ea52d361f9435e">GRANT_SELECT</a> = 'GRANT SELECT ON %1$s TO %2$s@\'localhost\''</td></tr>
<tr class="separator:a90801e0a5c4bb225d5ea52d361f9435e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25dbb5e367037e3332fdf8f4aa612fb" id="r_af25dbb5e367037e3332fdf8f4aa612fb"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af25dbb5e367037e3332fdf8f4aa612fb">GRANT_FIELD_UPDATE</a> = 'GRANT UPDATE (%3$s) ON %1$s TO %2$s@\'localhost\''</td></tr>
<tr class="separator:af25dbb5e367037e3332fdf8f4aa612fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8f6f0e60183992c01ae7acad097ac598" id="r_a8f6f0e60183992c01ae7acad097ac598"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f6f0e60183992c01ae7acad097ac598">viewName</a> (?string $dataBaseName, string $prefix, string $baseName)</td></tr>
<tr class="separator:a8f6f0e60183992c01ae7acad097ac598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891ee9425b9ec2b464cd8d38c8f5bc9a" id="r_a891ee9425b9ec2b464cd8d38c8f5bc9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a891ee9425b9ec2b464cd8d38c8f5bc9a">personalizedViewName</a> (?string $dataBaseName, string $baseName)</td></tr>
<tr class="separator:a891ee9425b9ec2b464cd8d38c8f5bc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671fba0b17a311cf25f00baf8fa06912" id="r_a671fba0b17a311cf25f00baf8fa06912"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a671fba0b17a311cf25f00baf8fa06912">checkAndGetCloudDbUser</a> ()</td></tr>
<tr class="separator:a671fba0b17a311cf25f00baf8fa06912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a19b48267e2ba917d0226da1acdcb25" id="r_a1a19b48267e2ba917d0226da1acdcb25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a19b48267e2ba917d0226da1acdcb25">generateUserSqlConfig</a> (?string $dataBaseName=null, bool $withDbAuth=true)</td></tr>
<tr class="memdesc:a1a19b48267e2ba917d0226da1acdcb25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a config array for the user_sql app "as of now".  <br /></td></tr>
<tr class="separator:a1a19b48267e2ba917d0226da1acdcb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd669fc5c9519ec4df86f83338241f86" id="r_afd669fc5c9519ec4df86f83338241f86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd669fc5c9519ec4df86f83338241f86">generateMusicianPersonalizedViewsStatements</a> (?string $dataBaseName)</td></tr>
<tr class="memdesc:afd669fc5c9519ec4df86f83338241f86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the (My-)SQL statements for defining the personalized single-row musician views.  <br /></td></tr>
<tr class="separator:afd669fc5c9519ec4df86f83338241f86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a239762c0ce8c078686e70ec63bbf1ab3" id="r_a239762c0ce8c078686e70ec63bbf1ab3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a239762c0ce8c078686e70ec63bbf1ab3">$connection</a></td></tr>
<tr class="separator:a239762c0ce8c078686e70ec63bbf1ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8854c42922008a117a75184b76a939" id="r_a8a8854c42922008a117a75184b76a939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a8854c42922008a117a75184b76a939">$appDbHost</a></td></tr>
<tr class="separator:a8a8854c42922008a117a75184b76a939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9d1eee4b164010f71cb327246e5207" id="r_a6e9d1eee4b164010f71cb327246e5207"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e9d1eee4b164010f71cb327246e5207">$appDbUser</a></td></tr>
<tr class="separator:a6e9d1eee4b164010f71cb327246e5207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c082eb2a498b75d6ed482ea389a898" id="r_a12c082eb2a498b75d6ed482ea389a898"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12c082eb2a498b75d6ed482ea389a898">$appDbName</a></td></tr>
<tr class="separator:a12c082eb2a498b75d6ed482ea389a898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manage database-views and grants in order to selectively provide only the neccessary information to the ambient cloud system. </p>
<p>Integrates with the cafevdbmembers and the user_sql app. </p>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00045">45</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa7a0981bcb0a63dc601628da525c1a45" name="aa7a0981bcb0a63dc601628da525c1a45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a0981bcb0a63dc601628da525c1a45">&#9670;&#160;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">private string</td>          <td class="paramname"><span class="paramname"><em>$appName</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">private IAppContainer</td>          <td class="paramname"><span class="paramname"><em>$appContainer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">protected ILogger</td>          <td class="paramname"><span class="paramname"><em>$logger</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">private IL10N</td>          <td class="paramname"><span class="paramname"><em>$l</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">private IConfig</td>          <td class="paramname"><span class="paramname"><em>$cloudConfig</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">private <a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_encryption_service.html">EncryptionService</a></td>          <td class="paramname"><span class="paramname"><em>$encryptionService</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">private IAppManager</td>          <td class="paramname"><span class="paramname"><em>$appManager</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00171">171</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a671fba0b17a311cf25f00baf8fa06912" name="a671fba0b17a311cf25f00baf8fa06912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671fba0b17a311cf25f00baf8fa06912">&#9670;&#160;</a></span>checkAndGetCloudDbUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">checkAndGetCloudDbUser </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>string</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\DatabaseCloudConnectorViewException </p>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00224">224</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_cloud_user_connector_service_8php_source.html#l00803">CloudUserConnectorService\updateMusicianPersonalizedViews()</a>, and <a class="el" href="_cloud_user_connector_service_8php_source.html#l00304">CloudUserConnectorService\updateUserSqlViews()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a671fba0b17a311cf25f00baf8fa06912_icgraph.svg" width="426" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab9908b4a2aaa00954cc55cac5d5ad1b2" name="ab9908b4a2aaa00954cc55cac5d5ad1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9908b4a2aaa00954cc55cac5d5ad1b2">&#9670;&#160;</a></span>checkRequirements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">checkRequirements </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the requirements for this affair, in particular whether the user_sql backend is enabled, and return an error with status and hints. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00246">246</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="afd669fc5c9519ec4df86f83338241f86" name="afd669fc5c9519ec4df86f83338241f86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd669fc5c9519ec4df86f83338241f86">&#9670;&#160;</a></span>generateMusicianPersonalizedViewsStatements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">generateMusicianPersonalizedViewsStatements </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the (My-)SQL statements for defining the personalized single-row musician views. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array&lt;string, string&gt; <div class="fragment"><div class="line">[</div>
<div class="line">  VIEWNAME =&gt; SQL_STATEMENT</div>
<div class="line">]</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00603">603</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00214">CloudUserConnectorService\personalizedViewName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_cloud_user_connector_service_8php_source.html#l00843">CloudUserConnectorService\removeMusicianPersonalizedViews()</a>, and <a class="el" href="_cloud_user_connector_service_8php_source.html#l00803">CloudUserConnectorService\updateMusicianPersonalizedViews()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_afd669fc5c9519ec4df86f83338241f86_cgraph.svg" width="547" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_afd669fc5c9519ec4df86f83338241f86_icgraph.svg" width="448" height="120"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1a19b48267e2ba917d0226da1acdcb25" name="a1a19b48267e2ba917d0226da1acdcb25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a19b48267e2ba917d0226da1acdcb25">&#9670;&#160;</a></span>generateUserSqlConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">generateUserSqlConfig </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$withDbAuth</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a config array for the user_sql app "as of now". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$withDbAuth</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000022">Bug</a></b></dt><dd>Uses the internal structure of an app which is not under our controle. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00376">376</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00198">CloudUserConnectorService\viewName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_cloud_user_connector_service_8php_source.html#l00454">CloudUserConnectorService\writeUserSqlConfig()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a1a19b48267e2ba917d0226da1acdcb25_cgraph.svg" width="299" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a1a19b48267e2ba917d0226da1acdcb25_icgraph.svg" width="350" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8a293b86b415db5c17994d462e546752" name="a8a293b86b415db5c17994d462e546752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a293b86b415db5c17994d462e546752">&#9670;&#160;</a></span>haveCloudUserBackendConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">haveCloudUserBackendConfig </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>bool Check for cached cloud user-backend config </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00581">581</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a891ee9425b9ec2b464cd8d38c8f5bc9a" name="a891ee9425b9ec2b464cd8d38c8f5bc9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891ee9425b9ec2b464cd8d38c8f5bc9a">&#9670;&#160;</a></span>personalizedViewName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">personalizedViewName </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$baseName</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$baseName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00214">214</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00198">CloudUserConnectorService\viewName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_cloud_user_connector_service_8php_source.html#l00603">CloudUserConnectorService\generateMusicianPersonalizedViewsStatements()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a891ee9425b9ec2b464cd8d38c8f5bc9a_cgraph.svg" width="300" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a891ee9425b9ec2b464cd8d38c8f5bc9a_icgraph.svg" width="655" height="120"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a36cc4d88d9fdb83c10a875b1fcd19087" name="a36cc4d88d9fdb83c10a875b1fcd19087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36cc4d88d9fdb83c10a875b1fcd19087">&#9670;&#160;</a></span>projectGroupId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">projectGroupId </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$projectId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the group-id for the given numeric project-id. </p>
<p>Note that the display-name is just the project-name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$projectId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00287">287</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a10e78d362d26b66ba16cfd97a46499da" name="a10e78d362d26b66ba16cfd97a46499da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e78d362d26b66ba16cfd97a46499da">&#9670;&#160;</a></span>removeMusicianPersonalizedViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">removeMusicianPersonalizedViews </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the personalized one-row views which give individual orchestra members access to just their own data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$dataBaseName</td><td>The name of the database where the views will be created. The cafevdb database user must have GRANT rights on the databse. If null the views are created in the standard databse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\DatabaseCloudConnectorViewException </p>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00843">843</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00603">CloudUserConnectorService\generateMusicianPersonalizedViewsStatements()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a10e78d362d26b66ba16cfd97a46499da_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac82adab72318c73cb5c69f91bde1782e" name="ac82adab72318c73cb5c69f91bde1782e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac82adab72318c73cb5c69f91bde1782e">&#9670;&#160;</a></span>removeUserSqlViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">removeUserSqlViews </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the user-sql views. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$dataBaseName</td><td>The name of the database where the views will be created. The cafevdb database user must have GRANT rights on the databse. If null the views are created in the standard databse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00345">345</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00198">CloudUserConnectorService\viewName()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_ac82adab72318c73cb5c69f91bde1782e_cgraph.svg" width="290" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aace684f0b8c77b94c50d856b0e172007" name="aace684f0b8c77b94c50d856b0e172007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace684f0b8c77b94c50d856b0e172007">&#9670;&#160;</a></span>synchronizeCloud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronizeCloud </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>In particular flush potential data-caches after changing data of the orchestra app. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00549">549</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="ab8482f7cd6afd7290823d6bfafe1c2a3" name="ab8482f7cd6afd7290823d6bfafe1c2a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8482f7cd6afd7290823d6bfafe1c2a3">&#9670;&#160;</a></span>updateMusicianPersonalizedViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateMusicianPersonalizedViews </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the personalized one-row views which give individual orchestra members access to just their own data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$dataBaseName</td><td>The name of the database where the views will be created. The cafevdb database user must have GRANT rights on the databse. If null the views are created in the standard databse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\DatabaseCloudConnectorViewException </p>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00803">803</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00224">CloudUserConnectorService\checkAndGetCloudDbUser()</a>, and <a class="el" href="_cloud_user_connector_service_8php_source.html#l00603">CloudUserConnectorService\generateMusicianPersonalizedViewsStatements()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_ab8482f7cd6afd7290823d6bfafe1c2a3_cgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a93f6d9da1bc4c1797b708227e1a1d40f" name="a93f6d9da1bc4c1797b708227e1a1d40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f6d9da1bc4c1797b708227e1a1d40f">&#9670;&#160;</a></span>updateUserSqlViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">updateUserSqlViews </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the views interacting with the Nextcloud user_sql backend and update their grants. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;null</td><td class="paramname">$dataBaseName</td><td>The name of the database where the views will be created. The cafevdb database user must have GRANT rights on the databse. If null the views are created in the standard databse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exceptions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>\DatabaseCloudConnectorViewException </p>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00304">304</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00224">CloudUserConnectorService\checkAndGetCloudDbUser()</a>, and <a class="el" href="_cloud_user_connector_service_8php_source.html#l00198">CloudUserConnectorService\viewName()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a93f6d9da1bc4c1797b708227e1a1d40f_cgraph.svg" width="382" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8f6f0e60183992c01ae7acad097ac598" name="a8f6f0e60183992c01ae7acad097ac598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6f0e60183992c01ae7acad097ac598">&#9670;&#160;</a></span>viewName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">viewName </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$prefix</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$baseName</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$prefix</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$baseName</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00198">198</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="_cloud_user_connector_service_8php_source.html#l00376">CloudUserConnectorService\generateUserSqlConfig()</a>, <a class="el" href="_cloud_user_connector_service_8php_source.html#l00214">CloudUserConnectorService\personalizedViewName()</a>, <a class="el" href="_cloud_user_connector_service_8php_source.html#l00345">CloudUserConnectorService\removeUserSqlViews()</a>, and <a class="el" href="_cloud_user_connector_service_8php_source.html#l00304">CloudUserConnectorService\updateUserSqlViews()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a8f6f0e60183992c01ae7acad097ac598_icgraph.svg" width="100%" height="446"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a738d301bd56cac033014f9e648939e42" name="a738d301bd56cac033014f9e648939e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738d301bd56cac033014f9e648939e42">&#9670;&#160;</a></span>writeUserSqlConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">writeUserSqlConfig </td>
          <td>(</td>
          <td class="paramtype">?string</td>          <td class="paramname"><span class="paramname"><em>$dataBaseName</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>$delete</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For the moment this just fills in our own app-config. </p>
<p>Idea is to have the admin-settings actually flush this data to the config space, either directly or by using a call to set settings route of the user_sql app.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">null&#160;|&#160;string</td><td class="paramname">$dataBaseName</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$delete</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00454">454</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

<p class="reference">References <a class="el" href="_cloud_user_connector_service_8php_source.html#l00376">CloudUserConnectorService\generateUserSqlConfig()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service_a738d301bd56cac033014f9e648939e42_cgraph.svg" width="482" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a8a8854c42922008a117a75184b76a939" name="a8a8854c42922008a117a75184b76a939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a8854c42922008a117a75184b76a939">&#9670;&#160;</a></span>$appDbHost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $appDbHost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00162">162</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a12c082eb2a498b75d6ed482ea389a898" name="a12c082eb2a498b75d6ed482ea389a898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c082eb2a498b75d6ed482ea389a898">&#9670;&#160;</a></span>$appDbName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $appDbName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00168">168</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a6e9d1eee4b164010f71cb327246e5207" name="a6e9d1eee4b164010f71cb327246e5207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9d1eee4b164010f71cb327246e5207">&#9670;&#160;</a></span>$appDbUser</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string $appDbUser</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00165">165</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a239762c0ce8c078686e70ec63bbf1ab3" name="a239762c0ce8c078686e70ec63bbf1ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a239762c0ce8c078686e70ec63bbf1ab3">&#9670;&#160;</a></span>$connection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_database_1_1_connection.html">Connection</a> $connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00159">159</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a1861b1649df098652341074d883fe10d" name="a1861b1649df098652341074d883fe10d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1861b1649df098652341074d883fe10d">&#9670;&#160;</a></span>CLOUD_USER_BACKEND</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const CLOUD_USER_BACKEND = 'user_sql'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00052">52</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a9c8fb8c3d4ee4ade9441d3e2cb65099e" name="a9c8fb8c3d4ee4ade9441d3e2cb65099e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8fb8c3d4ee4ade9441d3e2cb65099e">&#9670;&#160;</a></span>CLOUD_USER_GROUP_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const CLOUD_USER_GROUP_ID = self::CLOUD_USER_BACKEND</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00053">53</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="af25dbb5e367037e3332fdf8f4aa612fb" name="af25dbb5e367037e3332fdf8f4aa612fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25dbb5e367037e3332fdf8f4aa612fb">&#9670;&#160;</a></span>GRANT_FIELD_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GRANT_FIELD_UPDATE = 'GRANT UPDATE (%3$s) ON %1$s TO %2$s@\'localhost\''</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00156">156</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a90801e0a5c4bb225d5ea52d361f9435e" name="a90801e0a5c4bb225d5ea52d361f9435e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90801e0a5c4bb225d5ea52d361f9435e">&#9670;&#160;</a></span>GRANT_SELECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GRANT_SELECT = 'GRANT SELECT ON %1$s TO %2$s@\'localhost\''</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00155">155</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a6c2bf5b56d90a38857068adc32302b51" name="a6c2bf5b56d90a38857068adc32302b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2bf5b56d90a38857068adc32302b51">&#9670;&#160;</a></span>GROUP_ID_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GROUP_ID_PREFIX = '%2$s' . self::GROUP_ID_SEPARATOR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00062">62</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a2f9209edb5bae0481aae491b885d7cf9" name="a2f9209edb5bae0481aae491b885d7cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9209edb5bae0481aae491b885d7cf9">&#9670;&#160;</a></span>GROUP_ID_SEPARATOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GROUP_ID_SEPARATOR = '_'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00060">60</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a5aba35c523de2809e1c035ed2aa9a14f" name="a5aba35c523de2809e1c035ed2aa9a14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aba35c523de2809e1c035ed2aa9a14f">&#9670;&#160;</a></span>MUSICIAN_ID_TABLES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const MUSICIAN_ID_TABLES</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;SepaBankAccounts&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;SepaDebitMandates&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;ProjectParticipants&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;MusicianInstruments&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;ProjectInstruments&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;ProjectPayments&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;CompositePayments&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;MusicianPhoto&#39;</span> =&gt; <span class="stringliteral">&#39;owner_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;EncryptedFileOwners&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;MusicianEmailAddresses&#39;</span> =&gt; <span class="stringliteral">&#39;musician_id&#39;</span>,</div>
<div class="line">  ]</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00127">127</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="add88c45c3d096fa7412d4ce46099006f" name="add88c45c3d096fa7412d4ce46099006f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add88c45c3d096fa7412d4ce46099006f">&#9670;&#160;</a></span>PERSONALIZED_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const PERSONALIZED_PREFIX = 'Personalized'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00058">58</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a454949d41788fb01b04a84adeb5dd6cc" name="a454949d41788fb01b04a84adeb5dd6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454949d41788fb01b04a84adeb5dd6cc">&#9670;&#160;</a></span>REQUIREMENTS_MISSING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const REQUIREMENTS_MISSING = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00050">50</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a1441ad87ee1ac15b33885e91a9131ecc" name="a1441ad87ee1ac15b33885e91a9131ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1441ad87ee1ac15b33885e91a9131ecc">&#9670;&#160;</a></span>REQUIREMENTS_OK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const REQUIREMENTS_OK = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00049">49</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a397130f8e4bcfcff97808e25d85a6099" name="a397130f8e4bcfcff97808e25d85a6099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397130f8e4bcfcff97808e25d85a6099">&#9670;&#160;</a></span>UNRESTRICTED_TABLES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const UNRESTRICTED_TABLES</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;Instruments&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;InstrumentFamilies&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;instrument_instrument_family&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;GeoContinents&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;GeoCountries&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;GeoPostalCodes&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;GeoPostalCodeTranslations&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;InsuranceBrokers&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;InsuranceRates&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;ProjectInstrumentationNumbers&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;TableFieldTranslations&#39;</span>,</div>
<div class="line">  ]</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00141">141</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="adf4390e4a4448749b1622e26e566cfae" name="adf4390e4a4448749b1622e26e566cfae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf4390e4a4448749b1622e26e566cfae">&#9670;&#160;</a></span>USER_SQL_PREFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const USER_SQL_PREFIX = 'Nextcloud'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00057">57</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="add4c23a8e0414027e223895599b93126" name="add4c23a8e0414027e223895599b93126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4c23a8e0414027e223895599b93126">&#9670;&#160;</a></span>USER_SQL_USER_GROUP_VIEW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const USER_SQL_USER_GROUP_VIEW</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&#39;CREATE OR REPLACE</span></div>
<div class="line"><span class="stringliteral">SQL SECURITY DEFINER</span></div>
<div class="line"><span class="stringliteral">VIEW %1$s AS</span></div>
<div class="line"><span class="stringliteral">SELECT m.user_id_slug AS uid,</span></div>
<div class="line"><span class="stringliteral">       CONVERT((CONCAT(_ascii &quot;%2$s&#39;</span> . self::GROUP_ID_SEPARATOR . <span class="stringliteral">&#39;&quot;, p.id) COLLATE ascii_bin) USING utf8mb4) AS gid</span></div>
<div class="line"><span class="stringliteral">FROM ProjectParticipants pp</span></div>
<div class="line"><span class="stringliteral">LEFT JOIN Musicians m ON m.id = pp.musician_id</span></div>
<div class="line"><span class="stringliteral">LEFT JOIN Projects p ON p.id = pp.project_id</span></div>
<div class="line"><span class="stringliteral">WHERE pp.deleted IS NULL&#39;</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00083">83</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="a1d3d4ca721f8c3bdec0bd014496b302f" name="a1d3d4ca721f8c3bdec0bd014496b302f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3d4ca721f8c3bdec0bd014496b302f">&#9670;&#160;</a></span>USER_SQL_VIEWS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const USER_SQL_VIEWS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;User&#39;</span> =&gt; self::USER_SQL_USER_VIEW,</div>
<div class="line">    <span class="stringliteral">&#39;Group&#39;</span> =&gt; self::USER_SQL_GROUP_VIEW,</div>
<div class="line">    <span class="stringliteral">&#39;UserGroup&#39;</span> =&gt; self::USER_SQL_USER_GROUP_VIEW,</div>
<div class="line">  ]</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00121">121</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<a id="abcd0e2961736f6e39ade0ea351829b09" name="abcd0e2961736f6e39ade0ea351829b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcd0e2961736f6e39ade0ea351829b09">&#9670;&#160;</a></span>VIEW_POSTFIX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const VIEW_POSTFIX = 'View'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_cloud_user_connector_service_8php_source.html#l00055">55</a> of file <a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/www/dev1/htdocs/nextcloud-git-28/apps/cafevdb/lib/Service/<a class="el" href="_cloud_user_connector_service_8php_source.html">CloudUserConnectorService.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>OCA</b></li><li class="navelem"><a class="el" href="namespace_o_c_a_1_1_c_a_f_e_v_d_b.html">CAFEVDB</a></li><li class="navelem"><a class="el" href="namespace_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service.html">Service</a></li><li class="navelem"><a class="el" href="class_o_c_a_1_1_c_a_f_e_v_d_b_1_1_service_1_1_cloud_user_connector_service.html">CloudUserConnectorService</a></li>
    <li class="footer">Generated on Wed Feb 14 2024 11:18:23 for CamerataDB by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
