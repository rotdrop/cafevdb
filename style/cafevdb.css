/**Orchestra member, musicion and project management application.
 *
 * CAFEVDB -- Camerata Academica Freiburg e.V. DataBase.
 *
 * @author Claus-Justus Heine
 * @copyright 2011-2016, 2020 Claus-Justus Heine <himself@claus-justus-heine.de>
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU GENERAL PUBLIC LICENSE
 * License as published by the Free Software Foundation; either
 * version 3 of the License, or any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU AFFERO GENERAL PUBLIC LICENSE for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library.  If not, see <http://www.gnu.org/licenses/>.
 */

/*****************************************************************************
 *
 * Container and Header stuff
 *
 */

body {
  overflow:hidden;
}

body#body-settings {
  overflow:scroll;
}

#content.app-cafevdb {
  width:100%;
  height:100%;
}

#content.app-cafevdb #app-content {
  max-width:100vw;
}

#controls {
  background-color: #F2F8FF;
  position:absolute;
  width:auto;
  top:0px;
}

div.cafevdb-page-header-text {
  max-width: 50em;
  font-weight: bold;
}

div.cafevdb-page-header-box {
  position:absolute;
  top:0;
  z-index:25;
  background-color:inherit;
  opacity:1.0;
  width:100%;
  height:44px;
  padding-left:44px;
  overflow:hidden;
  /* border-bottom:1px solid #777;*/
}

div.cafevdb-page-header {
  position:absolute;
  padding-left:1ex;
  /* height:44px; */
  top:50%;
  transform:translateY(-50%);
  overflow:hidden;
  font-weight:bold;
}

div.cafevdb-page-container {
  position: relative;
  height:100%;
  box-sizing:border-box;
  border-top:1px solid #777;
  /* padding-top:3ex;*/
}

div.cafevdb-page-body {
  position:relative; /* otherwise height rel. outer border-box */
  height:100%;
  box-sizing:border-box;
  overflow-y:auto;
}

div.cafevdb-page-body-inner {
  padding-top:1ex;
}

#app-inner-content {
  position:relative;
  box-sizing:border-box;
  /* background-color:#f2f8ff; */
  min-height:100%;
  min-width:100%;
  height:100%;
  max-height:100%;
  overflow:hidden;
}

div.cafevdb-general {
  position:relative;
  box-sizing:border-box;
  padding-top:44px;
  background-color:#f2f8ff;
  min-height:100%;
  min-width:100%;
  height:100%;
  max-height:100%;
  overflow:hidden;
}

/*******************************************************************************
 *
 * Be noisy on configuration errors.
 *
 */

div.cfgerror {
  padding-left:2ex;
  padding-top:8ex;
  min-width:60ex;
  width:80%;
  color:red;
  font-weight:bold;
}

/*******************************************************************************
 *
 * Error popups
 *
 */

.error.missing,
.error.syntax.contents,
.error.contents,
.error.general,
.error.debug.contents {
  display:block;
 /* font-weight:bold;*/
  color:blue;
  margin:0 2em 0 2em;
  max-width:100%;
  overflow:auto;
  /* white-space:nowrap; */
}

.error.caption,
.error.heading {
  font-weight:bold;
}

.error.general {
  max-width:60em;
}

.error.caption {
  font-size:110%;
  color:blue;
  font-style:italic;
}

.error.debug.contents p {
  /* white-space:nowrap;   */
}

.error.exception.name {
  display:block;
  font-weight:bold;
  color:red;
  margin-left:2em;
}

.error.exception.trace {
  display:block;
  font-weight:bold;
  color:blue;
  margin: 0 2em 0 2em;
  max-width:100%;
  overflow:auto;
  /* white-space:nowrap; */
}

.error.exception.trace p {
  /* white-space:nowrap; */
}

.error a {
  font-weight:bold;
  text-decoration:underline;
  color:red !important;
}

.error a:hover {
  font-weight:bold;
  font-style:italic;
  text-decoration:underline;
  color:red !important;
}

.error.specialrole {
  text-align:center;
  font-weight:bold;
  color:red;
  font-size:200%;
  margin-top:2em;
}

.cafevdb.error-page .error-wide {
  margin-left: 0px !important;
}

/*******************************************************************************
 *
 * Pointer above controls
 *
 */

input[type=checkbox],input[type=submit],input[type=radio],input[type=button] {
  cursor:pointer;
}

/*******************************************************************************
 *
 * Chosen dropdown menu
 *
 */

.chosen-container.cafevdb-menu {
  font-weight:bold;
  vertical-align:middle;
}

.chosen-container.cafevdb-menu a.chosen-default span {
  /*font-weight:bold;*/
  color:#555;
}

.chosen-container.cafevdb-menu a.chosen-default span:hover,
.chosen-container.cafevdb-menu a.chosen-default span:focus,
.chosen-container.cafevdb-menu a.chosen-default span:active {
  /*font-weight:bold;*/
  color:#333;
}

.chosen-container.cafevdb-menu a.chosen-single {
  border-radius: 3px;
  height: auto;
  background: transparent;
  box-shadow: none;
  outline: medium, none;
  margin: 0px 0px 3px 0px !important;
  background-color: rgba(240, 240, 240, 0.9);
  color: #555;
  border: 1px solid rgba(190, 190, 190, 0.9);
  padding: 4px 4px 5px 4px;
  line-height: 16px;
  font-size: 13px;
}

.chosen-container.cafevdb-menu a.chosen-single:hover,
.chosen-container.cafevdb-menu a.chosen-single:focus {
  background-color:rgba(250,250,250,.9);
  color:#333;
}

/*******************************************************************************
 *
 * Chosen popup.
 *
 */

.ui-dialog.chosen-popup-dialog {
  max-height: 75% !important;
  overflow: visible;
  padding: 0;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-content {
  min-height:4.4em !important;
  padding: 0;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-content .chosen-choices {
  min-height:4.4em;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-buttonpane {
  padding:0;
  margin-top:0;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-buttonpane button {
  margin-left:0.4em;
  margin-right:0.4em;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {
  float:none;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-buttonpane button.save {
  float:left;
}
.ui-dialog.chosen-popup-dialog .ui-dialog-buttonpane button.cancel {
  float:right;
}

/*******************************************************************************
 *
 * Configuration page
 *
 */

#cafevdb-page-config-check-header {
  background-image:url('../img/logo-greyf-large.svg');
  background-repeat:no-repeat;
  background-origin:padding-box;
  background-size:contain;
  max-width:57em;
  height:13ex;
  padding-left:15ex;
  margin-top:2ex;
  color:red;
  font-weight:bold;
}

#cafevdb-page-body-config-check {
  padding-left:1ex;
}

#cafevdb-page-body-config-check li {
  padding: 0.5ex 0.5ex 0.5ex 3ex ;
  max-width:56em;
  margin:0.5ex;
  moz-border-radius:.5em;
  webkit-border-radius:.5em;
  border-radius:.5em;
  background-color:#add8e6;
}

#cafevdb-page-body-config-check li.set {
  background-image:url('../../../core/img/actions/info.svg');
  background-repeat:no-repeat;
  background-position:0ex 1ex;
}

#cafevdb-page-body-config-check li.missing {
  background-image:url('../../../core/img/actions/delete.svg');
  background-repeat:no-repeat;
  background-position:0ex 1ex;
}

#cafevdb-page-body-config-check .comment {
  background-image:url('../../../core/img/actions/rename.svg');
  background-repeat:no-repeat;
  background-position:0ex 0.5ex;
  padding-left:3ex;
}

li.cafevdb-page-config-check.missing span.value {
  font-weight:bold;
  font-style:italic;
}

li.cafevdb-page-config-check span.missing {
  font-weight:bold;
  font-style:italic;
  color:Red;
}

li.cafevdb-page-config-check.set span.value {
  font-style:italic;
}

li.cafevdb-page-config-check span.set {
  font-style:italic;
  color:DarkGreen;
}

/******************************************************************************/

#personalsettings {
  /*margin-right: 10px;*/
  font-size: 12px;
}

#expertmode>input[type=button] {
}

#expertmode a.button {
  display: inline-block;
}

#expertmode .error  {
  font-weight:bold;
  color:red;
}

.actions {
  height: 33px;
  min-width: 800px;
}
.controls {
  min-width: 800px;
}

#app-navigation li.nav-heading > a {
  background-color:#888;
  font-weight:bold;
}

#projectlabelcontrol>input[type=submit] {
  font-weight:bold;
  font-style:italic;
  border-style:outset;
  background-color:#C6DEFF;
}

#app-navigation li.nav-projectlabelcontrol > a {
  background-color:#C6DEFF;
}

#app-navigation li.nav-projectlabelcontrol > a:hover {
  background-color:SteelBlue;
}

#app-navigation li.finance {
  background-color:lightyellow;
}


#app-settings {
  /*position:relative;*/
  z-index:auto;
}

:disabled {
  opacity:0.3;
}

/* Fuck Mozilla */
*::-moz-focus-inner {
  border:0 !important;
}

select,input,option,button {
  /*border-radius:4px;*/
  /* border-radius:.5em; */
  /* background-color:#F4F4F4; */
}

#content input:active:not(:disabled),
#content select:active:not(:disabled),
#content option:active:not(:disabled),
#content button:active:not(:disabled) {
  border-radius:.5em;
  /*border-radius:4px;*/
  background-color:SteelBlue;
}

input[type=button]:active:not(:disabled),
input[type=submit]:active:not(:disabled) {
  background-color:SteelBlue;
}

/* input:hover,/\*select:hover,*\/option:hover,button:hover {   */
/*   border-radius:4px; */
/*   background-color:LightSteelBlue; */
/* } */

div[class|='cafevdb-nav'] {
  background-image:url('../img/logo-greyf128x128.png');
  background-repeat:repeat-x;
  background-position:center;
}

div[class|='cafevdb-nav']>div {
  border:1px solid;
  background:#FFFFFF;
  opacity:0.98;
}

/************ old controls stuff *****/

#controls button.navigation.history {
  padding: 5px 2px 5px 2px;
}

#controls form button, #controls form input {
  margin-top: 4px;
  margin-left: 4px;
/*  max-height: 26px;*/
  vertical-align:middle;
  padding: 5px;
}

div#controls div.buttonseparator {
  display:inline-block;
  background:#000;
  height:30px;
  width:1px;
  vertical-align:middle;
  opacity:0.5;
}

/************ new controls stuff *****/

form.invisible#personalsettings * {
  display:none!important;
}

body.snapjs-left .cafevdb-page-header {
  right:300px;
  padding-right:1ex;
}

body.snapjs-left form#personalsettings {
  left:47px;
  right:unset;
  z-index:200;
}

form#personalsettings {
  position:absolute;
  /*left:47px;*/
  right:0px;
  top:0px;
  z-index:100;
  box-sizing:border-box;
  height:44px;
}

form#personalsettings .button,
form#personalsettings button,
form#personalsettings input[type="submit"] {
  box-sizing:border-box;
  display:inline-block;
  height:44px;
  width:44px;
  margin:0px;
  padding:0px;
  border:0px;
  vertical-align:middle;
  border-radius:0px;
  background-color: rgba(255,255,255,0.0);
}

#app-navigation-toggle {
  background-color: rgba(255,255,255,0.0);
}

#app-navigation-toggle:hover,
form#personalsettings .button:hover,
form#personalsettings button:hover,
form#personalsettings input[type="submit"]:hover {
  background-color: rgba(255,255,255,1.0);
  opacity:1.0;
}

body.cafevdb-modalizer #app-navigation-toggle,
body.cafevdb-modalizer form#personalsettings .button,
body.cafevdb-modalizer form#personalsettings button,
body.cafevdb-modalizer form#personalsettings input[type="submit"] {
  background-color: rgba(255,255,255,0.6);
}

body.cafevdb-modalizer #app-navigation-toggle:hover,
body.cafevdb-modalizer form#personalsettings .button:hover,
body.cafevdb-modalizer form#personalsettings button:hover,
body.cafevdb-modalizer form#personalsettings input[type="submit"]:hover {
  opacity:1.0;
  background-color: rgba(255,255,255,1.0);
}

form#personalsettings .table-cell.centered * {
  display: block !important;
  margin: auto !important;
}

form#personalsettings .button:active:not(:disabled),
form#personalsettings button:active:not(:disabled),
form#personalsettings input[type="submit"]:active:not(:disabled) {
  border-radius:0px;
  background-color:SteelBlue;
}

form#personalsettings .button:disabled,
form#personalsettings button:disabled,
form#personalsettings input[type="submit"]:disabled,
form#personalsettings :disabled {
  border-radius:0px;
  background-color: rgba(255,255,255,0.7);
  opacity:0.3;
}

form#personalsettings div.buttonseparator {
  display:inline-block;
  background:#000;
  height:30px;
  width:2px;
  vertical-align:middle;
  opacity:0.5;
}

/*************************************/

#tooltipbutton.tooltips-enabled {
  box-shadow:2px 2px 2px #080808 inset; /*, 1px 1px 1px #cfc inset;*/
}

/**************************************************
 *
 * Some tweaks
 */

form.focusstealer {
  position:absolute !important;
  left:-10000px !important;
}

form.focusstealer input.focusstealer {
  width:0px !important;
  height:0px !important;
}

#cafevdb-page-body input.pme-reload {
  display:none !important;
  position:absolute !important;
  left:-10000px !important;
}

#reloadbutton img {
  width:24px;
  height:24px;
}

#reloadbutton img.number-1 {
  display:none;
}

#cafevdb-loader {
  position: fixed;/*absolute;*/
  top: 50%;
  left: 50%;
  width: 128px;
  height: 14px;
  margin-top: -7px; /* Half the height */
  margin-left: -64px; /* Half the width */
  z-index:10000;
}

/*
 * End header-toggle
 *
 *****************************************************************************/

/*****************************************************************************
 *
 * Style for notes. Especially, we want visible links. It is just crap when the user
 * has to search the location he/she can click on.
 *
 */

div.cafevdb-table-notes {
  padding-left:1ex;
  padding-bottom:1ex;
  width:60%;
}

div.cafevdb-note a:link {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-weight:bold;
}
div.cafevdb-note a:visited {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-weight:bold;
}
div.cafevdb-note a:hover {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-style:italic;
  font-weight:bold;
}

/*
 * End cafevdb-note stuff
 *
 *****************************************************************************/

.cafevdb-link-icon {
  background-image:url('../img/link36.svg') !important;
  background-repeat:no-repeat;
  background-position:initial !important;
}

.cafevdb-unlink-icon {
  background-image:url('../img/brokenlink36.svg') !important;
  background-repeat:no-repeat;
  background-position:initial !important;
}

.ui-tabs a.ui-tabs-anchor.compact {
  padding:0.5em;
}

a.ui-tabs-anchor.compact span.ui-icon {
  margin:0;
  float:none;
}

.ui-dialog-titlebar .ui-dialog-title {
  cursor: move;
}

/* Optionally hide some close button */
.no-close .ui-dialog-titlebar-close {
  display: none;
}

.ui-dialog.no-close .ui-dialog-buttonpane {
  padding: .3em .4em .5em .4em; /* t r b l */
}

.ui-dialog.zero-size {
  width:0px !important;
  height:0px !important;
  max-width:0px !important;
  max-height:0px !important;
  min-width:0px !important;
  min-height:0px !important;
}

.ui-dialog .ui-dialog-titlebar .customDialogHeaderButton {
  position: absolute;
  top: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0px 0px;
  padding: 1px;
}

.ui-dialog .ui-dialog-titlebar .toBackButton,
.ui-dialog.custom-close .ui-dialog-titlebar .toBackButton {
  position: absolute;
  top: 50%;
  right: 2.5em;
  width: 20px;
  height: 20px;
  margin: -10px 0px 0px;
  padding: 1px;
}


.ui-dialog.no-close .ui-dialog-titlebar .toBackButton {
  right: 0.3em;
}

.ui-dialog .ui-dialog-titlebar .customCloseButton {
  position: absolute;
  right: 0.3em;
  top: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0px 0px;
  padding: 1px;
}

.ui-dialog.transparent,
.ui-dialog.transparent-titlebar {
  border:0px!important;
  background: transparent!important;
}

.content-box {
  box-sizing: content-box!important;
}

.ui-dialog.transparent .ui-widget-header,
.ui-dialog.transparent-titlebar .ui-widget-header {
  opacity:0;
}

.ui-dialog.transparent  .ui-progressbar-value,
.ui-dialog.transparent-titlebar .ui-progressbar-value {
  opacity:1;
}

.ui-dialog.transparent  .ui-progressbar-value,
.ui-dialog.transparent-titlebar .ui-progressbar-value {
  background-color: #CCC;
}

div.cafevdb-error {
  font-weight:bold;
  color:red;
}

.cafevdb-error a:link {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-weight:bold;
}

.cafevdb-error a:visited {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-weight:bold;
}

.cafevdb-error a:hover {
  color:CornFlowerBlue;
  text-decoration:underline;
  font-style:italic;
  font-weight:bold;
}

textarea[readonly],
textarea[readonly]:hover,
textarea[readonly]:active,
input[readonly],
input[readonly]:hover,
input[readonly]:active {
  background-color:rgb(248,248,248) !important;
  opacity: 0.5;
  filter:alpha(opacity=0.5);
}

/*******************************************************************************
 *
 * Display a read-only icon on read-only entries. Rationale: could
 * also disable those inputs, but flagging them only read-only keeps
 * them selectable. The drawback is, however, that without further
 * styling the user has a hard time to understand why it cannot modify
 * the entry. The input element per default simply looks the same as
 * an ordinary r/w element.
 *
 */
textarea[readonly]:hover,
textarea[disabled]:hover,
input[readonly]:hover,
input[disabled]:hover,
.chosen-disabled.chosen-container a:hover/*,
.chosen-disabled a span:hover,
.chosen-disabled li span:hover*/ {
  background-image:url('../img/lock.svg') !important;
  background-repeat:no-repeat;
  background-position:center center;
}

/********************************************************************************/

/*****************************************************************************
 *
 * Style chosen pull-down menu entries
 *
 */

.chosen-container .chosen-results li.highlighted {
  -moz-box-shadow:0 1px 1px #fff, 0 1px 0 #bbb inset;
  -webkit-box-shadow:0 1px 1px #fff, 0 1px 0 #bbb inset;
  box-shadow:0 1px 1px #fff, 0 1px 0 #bbb inset;
  -moz-border-radius:.5em;
  -webkit-border-radius:.5em;
  border-radius:.5em;
}

/*****************************************************************************
 *
 * Pull-up menu if desired
 *
 */

.chosen-dropup:not(.pme-filter) .chosen-container-active.chosen-with-drop .chosen-single {
  -moz-border-radius-topright: 0 !important;
  border-top-right-radius: 0 !important;
  -moz-border-radius-topleft: 0 !important;
  border-top-left-radius: 0 !important;
}

.chosen-dropup:not(.pme-filter) .chosen-drop {
  top: auto !important;
  bottom: 100%;
  border: solid #aaa;
  border-width: 1px 1px 0 1px;
  margin-top: -1px;
  border-radius: 4px 4px 0px 0px !important;
}

/*****************************************************************************
 *
 * Style the popup and error message if the actual instrumentation
 * numbers do not match the required ones.
 *
 */

#missing-musicians-block {
  padding:1em 1em 1em 1em;
}
#missing-musicians-block .missing-musicians-title {
  color:red;
  font-weight:bold;
  font-size:120%;
}
#missing-musicians-block tr td, #missing-musicians-block tr th
{
  border:1px solid;
  padding:3px;
}
#missing-musicians-block tr.row-0 td {
  background:#B7CEEC;
}
#missing-musicians-block tr.row-1 td {
  background:#C6DEFF;
}
#missing-musicians-block th {
  background:#CCC;
}

/* Avoid hiding the OC top-level menu bar by the "modalizer", but
 * allow top-level dialogs to float on top of the menu bar. Note that
 * the magic number "2000" is the z-index of the #header div and needs to be
 * adjusted if ever that number should be changed "in-core".
 */
body > .ui-widget-overlay.ui-front {
  z-index:99;
}

body > .ui-front.ui-draggable {
  z-index:100;
}

.ui-widget-overlay.ui-front {
  z-index:99;
}

.ui-front.ui-draggable {
  z-index:100;
}

body > .tooltip {
  z-index:2500;
}

/* make popups scrollable in smaller viewports */
.ui-dialog {
  max-height: 80%; /* !important;*/
  /*top: 15% !important;*/
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0;
}

.ui-dialog .ui-dialog-content {
  overflow: initial;
}

/*****************************************************************************
 *
 * Password toggles and such.
 *
 */
input[type=checkbox].cafevdb-password-show {
  display: none;
}

input[type=checkbox].cafevdb-password-show:checked + label.cafevdb-password-show {
  ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
  opacity: .8;
}

input[type=checkbox].cafevdb-password-show + label.cafevdb-password-show {
  position: absolute !important;
  margin-top: 11px;
  margin-left: -36px;
  height: 14px;
  width: 24px;
  background-image: url("../../../core/img/actions/toggle.svg");
  background-repeat: no-repeat;
  background-position: center;
  ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  opacity: .3;
  text-indent: -10000em;
}

.reallyhidden {
  display:none !important;
}

@keyframes busyfading {
  from {
    opacity:1;
  }
  to {
    opacity:0.1;
  }
}

.cafevdb-busy {
  animation: busyfading 3s ease infinite alternate;
}

.app-cafevdb .table-cell.centered {
  display: table-cell !important;
  vertical-align: middle !important;
  width: inherit !important;
  height: inherit !important;
}

.app-cafevdb .left-infinity-shift {
  position: absolute !important;
  left: -100000px !important;
}

/*
 * Local Variables: ***
 * css-indent-offset: 2 ***
 * End: ***
 */
